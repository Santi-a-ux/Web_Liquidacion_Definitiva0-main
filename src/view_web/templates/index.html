{% extends "base.html" %}

{% block title %}Centro de Control - Sistema de Liquidación Definitiva{% endblock %}

{% block content %}
<!-- Hero Section Corporativo -->
<div class="hero-section" style="
    background: linear-gradient(135deg, var(--primary-navy) 0%, var(--secondary-navy) 100%);
    color: white;
    padding: 4rem 0;
    text-align: center;
    margin-bottom: 3rem;
">
    <div class="container">
        <h1 style="font-size: 2.2rem; font-weight: 600; margin-bottom: 1rem; font-family: 'Times New Roman', serif;">
            Centro de Control Corporativo
        </h1>
        <p style="font-size: 1.1rem; color: #cbd5e1; font-weight: 300; font-family: 'Times New Roman', serif;">
            Plataforma Integral de Gestión de Liquidaciones Laborales
        </p>
    </div>
</div>

<div class="container">
    <!-- Información del Usuario Actual -->
    {% if session.get('user_id') %}
    <div class="card" style="margin-bottom: 3rem; background: linear-gradient(135deg, var(--white) 0%, var(--off-white) 100%);">
        <div class="card-header">
            <h2>
                Panel de Usuario
            </h2>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
            <div>
                <strong>Nombre Completo:</strong><br>
                {{ session.get('nombre') }} {{ session.get('apellido') }}
            </div>
            <div>
                <strong>Nivel de Acceso:</strong><br>
                {% if session.get('rol') == 'administrador' %}
                    <span style="color: var(--primary-navy); font-weight: 600;">
                        Administrador de Sistema
                    </span>
                {% else %}
                    <span style="color: var(--accent-blue); font-weight: 600;">
                        Asistente de Recursos Humanos
                    </span>
                {% endif %}
            </div>
        </div>
    </div>
    {% endif %}

    <!-- Grid de Funciones Principales -->
    <div class="card">
        <div class="card-header">
            <h2>
                Funciones del Sistema
            </h2>
        </div>
        
        <div class="functions-grid">
            <!-- Gestión de Empleados -->
            <div class="function-card">
                <h3>Gestión de Empleados</h3>
                <p>Administre el registro completo de empleados con datos personales y laborales actualizados</p>
                <div style="display: flex; gap: 0.75rem; justify-content: center;">
                    <a href="{{ url_for('agregar_usuario_get') }}" class="btn btn-primary">
                        Agregar
                    </a>
                    <a href="{{ url_for('consultar_usuario_get') }}" class="btn btn-secondary">
                        Consultar
                    </a>
                </div>
            </div>

            <!-- Modificación de Datos -->
            <div class="function-card">
                <h3>Modificación de Datos</h3>
                <p>Actualice información personal, salarial y contractual de los empleados registrados</p>
                <a href="{{ url_for('modificar_usuario_get') }}" class="btn btn-primary">
                    Modificar Empleado
                </a>
            </div>

            <!-- Procesamiento de Liquidaciones -->
            <div class="function-card" style="border: 2px solid var(--accent-blue); background: linear-gradient(135deg, var(--white) 0%, var(--light-blue) 20%);">
                <h3 style="color: var(--primary-navy);">Cálculo de Liquidaciones</h3>
                <p>Procese liquidaciones definitivas con cálculos automatizados conforme a la legislación laboral</p>
                <a href="{{ url_for('agregar_liquidacion_get') }}" class="btn btn-primary" style="font-size: 1rem; padding: 0.875rem 1.75rem;">
                    Procesar Liquidación
                </a>
            </div>

            <!-- Funciones Administrativas (Solo Administrador) -->
            {% if session.get('rol') == 'administrador' %}
            <div class="function-card" style="border: 2px solid var(--warning-orange);">
                <h3>Funciones Administrativas</h3>
                <p>Acceso completo a funciones de eliminación y gestión avanzada del sistema</p>
                <div style="display: flex; gap: 0.75rem; justify-content: center;">
                    <a href="{{ url_for('eliminar_usuario_get') }}" class="btn btn-secondary">
                        Eliminar Usuario
                    </a>
                    <a href="{{ url_for('eliminar_liquidacion_get') }}" class="btn btn-secondary">
                        Remover Liquidación
                    </a>
                </div>
            </div>

            <!-- Panel de Control Avanzado -->
            <div class="function-card" style="background: linear-gradient(135deg, var(--primary-navy) 0%, var(--secondary-navy) 100%); color: white;">
                <h3 style="color: white;">Panel de Control</h3>
                <p style="color: #cbd5e1;">Estadísticas del sistema, reportes y herramientas de administración avanzada</p>
                <a href="{{ url_for('admin_panel') }}" class="btn" style="background: white; color: var(--primary-navy); border: none;">
                    Administrar Sistema
                </a>
            </div>
            {% endif %}
        </div>
    </div>

    <!-- Panel de Estado del Sistema -->
    <div class="card">
        <div class="card-header">
            <h2>
                Estado del Sistema
            </h2>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; text-align: center;">
            <div style="padding: 2rem; background: var(--off-white); border-radius: 8px;">
                <div style="font-size: 2rem; font-weight: 600; color: var(--success-green); margin-bottom: 0.5rem;">
                    Sistema Operativo
                </div>
                <div style="font-size: 0.9rem; color: var(--text-medium);">100% Disponibilidad</div>
            </div>
            
            <div style="padding: 2rem; background: var(--off-white); border-radius: 8px;">
                <div style="font-size: 2rem; font-weight: 600; color: var(--accent-blue); margin-bottom: 0.5rem;">
                    Base de Datos
                </div>
                <div style="font-size: 0.9rem; color: var(--text-medium);">Conexión Estable</div>
            </div>
            
            <div style="padding: 2rem; background: var(--off-white); border-radius: 8px;">
                <div style="font-size: 2rem; font-weight: 600; color: var(--primary-navy); margin-bottom: 0.5rem;">
                    Empleados Activos
                </div>
                <div style="font-size: 0.9rem; color: var(--text-medium);">Sistema Actualizado</div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
